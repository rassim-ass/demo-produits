{% extends '::base.html.twig' %}
{% block body %}

    <!--<div id="page-wrapper">-->
    <div >
        <div class="row">

                <a href="{{ path('produit_new') }}" class="btn btn-success">Cr√©er un nouveau produit</a><br/>

            <hr>
            <div class="col-lg-12">

                <h4 class="page-header">Liste des produits</h4>

            </div>

            <!-- /.col-lg-12 -->
        </div>
        <!-- /.row -->

        <div class="row">
            <div class="col-lg-12">

                <div class="panel panel-default">


                    <!-- /.panel-heading -->
                    <div class="panel-body">
                        <div class="dataTable_wrapper">
                            <table class="table table-striped table-bordered table-hover" id="dataTables-example">
                                <thead>
                                <tr>
                                    <th>Id</th>
                                    <th>Etat</th>
                                    <th>image</th>

                                    <th>Titre</th>
                                    <th>Catgories</th>
                                    <th>Date</th>

                                    <th>Prix</th>
                                    <th>Poids</th>


                                    <th>Action</th>
                                </tr>
                                </thead>
                                <tbody>
                                {% for produit in produits %}
                                    <tr class="gradeA">
                                        <td>{{ produit.id }}</td>
                                        <td>{% if produit.etat %}<span> <i class="fa fa-check-circle fa-2x"></i></span> {% else %}<span> <i class="fa fa-times-circle fa-2x"></i></span> {% endif %}</td>
                                        <td><a href="{{ path('produit_show', { 'id': produit.id }) }}"><img src="{{ produit.vignette }}" width="100px" height="100px"  /></a></td>

                                        <td><a href="{{ path('produit_show', { 'id': produit.id }) }}">{{ produit.titre }}</a></td>
                                        <!--<td>{{ produit.description |striptags|slice(0, 20)  }}...</td>-->
                                        <td>
                                            <ul>
                                            {% for categorie in produit.categories %}
                                                <li>{{ categorie }}</li>
                                                {% endfor %}

                                            </ul>

                                        </td>
                                        <td>{% if produit.date %}{{ produit.date|date('Y-m-d ') }}{% endif %}</td>
                                        <td>{{ produit.prix }}</td>
                                        <td>{{ produit.poids }}</td>

                                        <td>

                                                    <a href="{{ path('produit_edit', { 'id': produit.id }) }}" class="btn btn-info">Modifier</a>

                                        </td>

                                    </tr>
                                {% endfor %}

<!--
                                <tr class="gradeA">
                                    <td>img</td>

                                    <td>Gecko</td>
                                    <td>Firefox 1.0</td>
                                    <td>Win 98+ / OSX.2+</td>
                                    <td class="center">1.7</td>
                                    <td class="center">A</td>
                                </tr>
                                -->


                                </tbody>
                            </table>
                        </div>
                        <!-- /.table-responsive -->

                    </div>
                    <!-- /.panel-body -->
                </div>
                <!-- /.panel -->
            </div>
            <!-- /.col-lg-6 -->
        </div>
        <!-- /.row -->
    </div>

    <!-- /#page-wrapper -->
{% endblock %}
{% block javascripts %}

    <script>
        $(document).ready(function () {
            $('#dataTables-example').DataTable({
                responsive: true
            });
        });
    </script>
{% endblock %}